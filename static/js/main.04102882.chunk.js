(this["webpackJsonpsl-news-reader"]=this["webpackJsonpsl-news-reader"]||[]).push([[0],{41:function(e,t,a){e.exports=a(54)},46:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),s=a.n(c),l=(a(46),a(15)),i=a(8),o=a(13),m=a(27),u=a(34),d=a(21),E=a(19),w=a(17),f=function(e){var t=e.featured,a=e.item,n="news-card";return t&&(n+=" is-featured"),r.a.createElement(l.b,{className:n,to:"/news/".concat(a.id)},r.a.createElement("div",{className:"card-image",style:{backgroundImage:"url('".concat(a.img,"')")}}),r.a.createElement("div",{className:"card-content"},r.a.createElement("h4",{className:"card-title"},a.title)))},p=function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"lds-dual-ring"}),r.a.createElement("p",{className:"loading-message"},"Loading the hottest takes"))},v=function(e){var t=e.error,a=e.isHome,n=e.message;return t&&!n&&(n=t.message),r.a.createElement("div",{className:"error-message"},n?r.a.createElement("p",null,n):r.a.createElement("p",null,"Some unknown error happened ",r.a.createElement("span",{role:"img","aria-label":"sad"},"\ud83d\ude22")),a?null:r.a.createElement("p",null,r.a.createElement(l.b,{to:"/"},"Let's go back home and try again")))};function g(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section"},e))}function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function N(){var e=Object(d.a)(["\n\tquery LIST_NEWS($skip: Int!) {\n\t\tnewsList(skip: $skip, limit: 10) {\n\t\t\ttotalRows,\n\t\t\trows {\n\t\t\t\tid,\n\t\t\t\ttitle,\n\t\t\t\timg\n\t\t\t}\n\t\t}\n\t}\n"]);return N=function(){return e},e}var O=Object(w.b)(N()),y=function(){var e=Object(E.a)(O,{variables:{skip:0}}),t=e.loading,a=e.error,n=e.data,c=e.fetchMore;if(t)return r.a.createElement(p,null);if(a)return g(r.a.createElement(v,{error:a}));if(!n||0===n.newsList.rows.length)return g(r.a.createElement(v,{message:"No Data"}));var s=n.newsList,l=s.rows,i=s.totalRows;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"news-list"},l.map((function(e,t){return r.a.createElement(f,{key:e.id,featured:t<2,item:e})}))),l.length<i?r.a.createElement("button",{className:"button is-fullwidth",onClick:function(){c({variables:{skip:l.length},updateQuery:function(e,t){var a=t.fetchMoreResult;return a?h({},e,{newsList:h({},e.newsList,{rows:[].concat(Object(m.a)(e.newsList.rows),Object(m.a)(a.newsList.rows))})}):e}})}},"Load More"):null))};function j(){var e=Object(d.a)(["\n\tquery GET_NEWS($id: ID!) {\n\t\tnewsItem(id: $id) {\n\t\t\tid,\n\t\t\ttitle,\n\t\t\tcontent,\n\t\t\turl,\n\t\t\timg\n\t\t}\n\t}\n"]);return j=function(){return e},e}var k=Object(w.b)(j()),L=function(){var e=Object(o.f)().id,t=Object(E.a)(k,{variables:{id:e}}),a=t.loading,n=t.error,c=t.data;if(a)return r.a.createElement(p,null);if(n)return g(r.a.createElement(v,{error:n,isHome:!0}));if(!c||!c.newsItem)return g(r.a.createElement(v,{message:"News not found",isHome:!0}));var s=c.newsItem,l=s.url.indexOf("/",8);-1===l&&(l=s.url.length);var i=s.url.lastIndexOf("/",l-1);-1===i&&(i=0);var m=s.url.slice(i+1,l);return r.a.createElement("div",{className:"news-detail"},r.a.createElement("div",{className:"news-image-container"},r.a.createElement("div",{className:"news-image",style:{backgroundImage:"url('".concat(s.img,"')")}})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"news-content"},r.a.createElement("h1",{className:"news-title"},r.a.createElement("a",{className:"news-title-link",href:s.url},s.title)),r.a.createElement("p",null,s.content),r.a.createElement("a",{className:"button news-read-more",href:s.url},"Read more at ",m," \xbb"))))},I=function(){return r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:y}),r.a.createElement(o.a,{path:"/news/:id",component:L}))},P=new w.a({uri:"https://news-reader.stagnationlab.dev/graphql"}),S=function(){return r.a.createElement(l.a,null,r.a.createElement(i.a,{client:P},r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"app-header"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},r.a.createElement(l.b,{className:"brand",to:"/"},"SL News",r.a.createElement("span",{className:"flavor-text"},"The news... that stags"))))),r.a.createElement(I,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||/^127(?:\.(?:25[0-5]|2[0-4]\d|[01]?\d\d?)){3}$/.exec(window.location.hostname));s.a.render(r.a.createElement(S,null),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.04102882.chunk.js.map